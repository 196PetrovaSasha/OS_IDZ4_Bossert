# Боссерт Александра 
## БПИ219
### Вариант 16
---

### Условие задачи

Задача о клумбе – 2.

На клумбе растет 40 цветов, за ними непрерывно следят два процесс–садовника и поливают увядшие цветы, при этом оба садовника очень боятся полить один и тот же цветок, который еще не начал вянуть. Создать приложение, моделирующее состояния цветков на клумбе и действия садовников. Сервер используется для обмена информацией между клиентами садовниками и клиентом — клумбой. Клумба — клиент, отслеживающий состояния всех цветов. Каждый садовник — отдельный клиент.

### Компиляция

#### На 4-5
gcc client.c -o client
gcc flowers.c -o flowers
#### На 6-8
gcc server.c -o server -lrt -lpthread
gcc observer.c -o observer

### Модель построения
Клиент-сервер

### Логика кода
Имеются два садовника, каждый из них отдельный клиент. Так же имеется клиент клумба, который отслеживает состояние всех цветков. Сервер позволяет обмениваться информацией между клумбой с каждым из садовников. Садовник отпраляет запрос через сервер в клумбу и клумба сообщает нужно ли полить определенный цветок (в зависимости от того поливал ли его другой садовник и начал ли он вянуть).

### Реализация на 4-5

Данная задача была решена при помощи sockets, которые предназначены для взаимодействия между клиентом и сервером в сетях через порт с определенным номером, при котором информация передается через последовательные потоки. Сокет создается клиентом (первыми двумя клиентами будут садовники, которые спрашивает про цветы и получают ответ) для взаимодействия с сервером. Сокет связан с определенным номером порта, через который клиент и сервер обмениваются информацией, используя числовой или символьный последовательный поток. Сервер, со своей стороны, прослушивает порт с заданным номером и создает для этого серверный сокет. Также в нашем случае необходим обмен информацией с третьим элементом, назовем его вторым клиентом, который отправляет запрос на сервер (клумба, которая сообщает, надо ли поливать) данный клиент также создает свой сокет.

### Реализация на 6-7
Была разработана клиентская программа, которая подключатся к серверу при помощи observer. Также был добавлен вывод полной информации о выполнении приложения (server ip, server port, информация об ошибках и отчет о дейсвиях элементов программы).

### Реализация на 8
Для отправки сообщения внешней программе использвался multicast. Multicast обеспечивает доставку трафика группе клиентов на IP-адрес группы multicast-рассылки.





